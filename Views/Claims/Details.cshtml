@model ClaimsProcessingSystem.Models.Claim

@{
    ViewData["Title"] = "Claim Details";
}

<div class="content-card">
    <h1><i class="fas fa-receipt"></i> Claim Details</h1>

    <dl class="row mt-4">
        <dt class="col-sm-3">Title</dt>
        <dd class="col-sm-9">@Html.DisplayFor(model => model.Title)</dd>

        <dt class="col-sm-3">Description</dt>
        <dd class="col-sm-9">@Html.DisplayFor(model => model.Description)</dd>

        <dt class="col-sm-3">Status</dt>
        <dd class="col-sm-9">
            @{
                string badgeClass = Model.Status switch
                {
                    ClaimStatus.Approved => "badge-status-approved",
                    ClaimStatus.Rejected => "badge-status-rejected",
                    _ => "badge-status-pending"
                };
            }
            <span class="badge-status @badgeClass">@Model.Status</span>
        </dd>

        <dt class="col-sm-3">Date Submitted</dt>
        <dd class="col-sm-9">@Model.DateSubmitted.ToString("g")</dd>

        <dt class="col-sm-3">Requested Amount</dt>
        <dd class="col-sm-9">@Model.RequestedAmount.ToString("C")</dd>

        <dt class="col-sm-3">Approved Amount</dt>
        <dd class="col-sm-9">@(Model.ApprovedAmount?.ToString("C") ?? "N/A")</dd>

        <dt class="col-sm-3">Supporting Document</dt>
        <dd class="col-sm-9">
            @if (!string.IsNullOrEmpty(Model.SupportingDocumentPath))
            {
                <a href="@Model.SupportingDocumentPath" target="_blank" class="view-document-link">View Document</a>
            }
            else
            {
                <span class="text-muted">No document uploaded.</span>
            }
        </dd>
    </dl>

    <div class="mt-4">
        @if (Model.Status == ClaimStatus.Pending)
        {
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Edit Claim</a>
        }
        <a asp-action="Index" class="btn btn-outline-secondary">Back to List</a>
    </div>
</div>